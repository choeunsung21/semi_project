<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC
"-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="teamMapper">
	<resultMap type="team" id="teamMap">
		<result property="teamNo" column="team_no"/>
		<result property="teamName" column="team_name"/>
		<result property="leaderNo" column="leader_no"/>
		<result property="teamArea" column="team_area"/>
		<result property="userGender" column="user_gender"/>
		<result property="teamLevel" column="team_level"/>
		<result property="teamCount" column="team_count"/>
		<result property="teamLimit" column="team_limit"/>
		<result property="teamExplanation" column="team_explanation"/>
		<result property="regDate" column="reg_date"/>
		<result property="modDate" column="mod_date"/>
		<result property="playerNo" column="player_no"/>
		<result property="userNo" column="user_no"/>
	</resultMap>
    <insert id="insertTeam" parameterType="Team" useGeneratedKeys="true" keyProperty="teamNo">
        INSERT INTO `team` (team_name, team_area, user_gender, team_level, team_count, team_explanation)
        VALUES (#{teamName}, #{teamArea}, #{userGender}, #{teamLevel}, #{teamCount}, #{teamExplanation})
    </insert>
    <!-- 보낸 팀 가입 신청 목록 조회 -->
    <select id="sendTeamList" resultMap="teamMap" parameterType="int">
        SELECT * FROM `team`
        WHERE leader_no = #{userNo}
    </select>

    <!-- 받은 팀 가입 신청 목록 조회 -->
    <select id="receivedTeamList" resultMap="teamMap" parameterType="int">
        SELECT * FROM `team`
        WHERE user_no = #{userNo}
    </select>
</mapper>